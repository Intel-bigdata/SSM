<!doctype html>
<!--
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<h3 class="text-center">Action Usage</h3>
<div class="col-md-offset-1 col-md-10">
  <br/>
  <table class="table table-bordered">
    <thead>
    <tr>
      <th>Action</th>
      <th>Arguments</th>
      <th>Description</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <td>addec</td>
      <td>[-policyName $policyName] [-codec $codecName -dataNum $dataNum -parityNum $parityNum -cellSize $cellSize]</td>
      <td>
        Either conventional policy name or specific policy schema should be given to this action.
        A typical policy name is RS-6-3-1024k. Or add an EC policy with the given parameters.
        The cellSize in byte should be divisible by 1024. SSM supports human-readable value for cellSize, e.g., 1KB, 1MB.
      </td>
    </tr>
    <tr>
      <td>allssd</td>
      <td>-file $file</td>
      <td>Move $file to SSD storage.</td>
    </tr>
    <tr>
      <td>alldisk</td>
      <td>-file $file</td>
      <td>Move $file to disk storage.</td>
    </tr>
    <tr>
      <td>append</td>
      <td>-file $file [-length $length -bufSize $bufSize]</td>
      <td>Append $file with $length length and $bufSize buffer size.</td>
    </tr>
    <tr>
      <td>archive</td>
      <td>-file $file</td>
      <td>Archive $file.</td>
    </tr>
    <tr>
      <td>cache</td>
      <td>-file $file [-replica $replica_num]</td>
      <td>Cache $file to HDFS cache. $replica_num is the number of replicas to be cached.
        If it is not specified, SSM will get replica number for $file from HDFS or use 1
        in directory case.</td>
    </tr>
    <tr>
      <td>checkec</td>
      <td>-file $file</td>
      <td>Show the EC policy of $file. The given $file can be a directory as well.</td>
    </tr>
    <tr>
      <td>checkstorage</td>
      <td>-file $file</td>
      <td>Show the storage type of $file.</td>
    </tr>
    <tr>
      <td>checksum</td>
      <td>-file $file</td>
      <td>Show the checksum of $file.</td>
    </tr>
    <tr>
      <td>compact</td>
      <td>-file ['$file1','$file2',..] -containerFile $containerFile</td>
      <td>Compact $file1, $file2, etc. to $containerFile. Please note that space is not allowed in the file list. In compact rule,
          specifying container file is invalid since SSM will assign a container file for small files under same directory.</td>
    </tr>
    <tr>
      <td>compress</td>
      <td>-file $file [-bufSize $bufSize] [-compressImpl $compressImpl]</td>
      <td>Compress $file. If option -bufSize is not specified, SSM will use the value obtained by dividing file size with the max
        number of splits, configured in smart-default.xml. The least buffer size is 1MB. SSM supports configuring human-readable
        value for bufSize, e.g., 1MB. SSM supports different compression implementations, including Lz4, Bzip2, Zlib and snappy.
        If option -compressImpl is not specified, SSM will use the configuration value, Zlib by default, for 'smart.compression.impl'.
      </td>
    </tr>
    <tr>
      <td>concat</td>
      <td>-file $src -dest $dest</td>
      <td>Concatenate the files in $src which lists at least two files
        separated by comma and $dest is the target file.</td>
    </tr>
    <tr>
      <td>copy</td>
      <td>-file $src -dest $dest [-offset $offset] [-length $length] [-bufSize $size]</td>
      <td>Copy the file in $src with $offset offset, $length length and $size buffer size.</td>
    </tr>
    <tr>
      <td>copy2s3</td>
      <td>copy2s3 -file $file -dest $s3_dest</td>
      <td>Copy $file to $s3_dest which is on Amazon S3, and $s3_dest is a url starting with s3a://.</td>
    </tr>
    <tr>
      <td>delete</td>
      <td>-file $file</td>
      <td>Delete $file.</td>
    </tr>
    <tr>
      <td>disableec</td>
      <td>-policy $policyName</td>
      <td>Disable the given EC policy $policyName.</td>
    </tr>
    <tr>
      <td>ec</td>
      <td>-file $file [-policy $policyName -bufSize $bufSize]</td>
      <td>Make the EC policy of $file become the given one or default one.
        If option -policy is not given, SSM will use the default one configured in HDFS.
        If option -bufSize is not given, SSM will use the default value in byte equivalent to 1MB.
        SSM supports human-readable value for bufSize, e.g., 1KB, 1MB.
      </td>
    </tr>
    <tr>
      <td>echo</td>
      <td>-msg $message</td>
      <td>Print $message.</td>
    </tr>
    <tr>
      <td>enableec</td>
      <td>-policy $policyName</td>
      <td>Enable the given EC policy $policyName.</td>
    </tr>
    <tr>
      <td>list</td>
      <td>-file $src</td>
      <td>List all the files in $src.</td>
    </tr>
    <tr>
      <td>listec</td>
      <td>No option</td>
      <td>List all EC policies.</td>
    </tr>
    <tr>
      <td>merge</td>
      <td>-file $src -dest $dest [-bufSize $size]</td>
      <td>Merge the files in $src which lists at least two files
        separated by comma and $dest is the target file.</td>
    </tr>
    <tr>
      <td>onedisk</td>
      <td>-file $file</td>
      <td>Move one replica of $file to disk.</td>
    </tr>
    <tr>
      <td>onessd</td>
      <td>-file $file</td>
      <td>Move one replica of $file to SSD.</td>
    </tr>
    <tr>
      <td>ramdisk</td>
      <td>-file $file</td>
      <td>Move $file to RAM_DISK.</td>
    </tr>
    <tr>
      <td>read</td>
      <td>-file $file [-bufSize $size]</td>
      <td>Read $file with $size buffer size.</td>
    </tr>
    <tr>
      <td>removeec</td>
      <td>-policy $policyName</td>
      <td>Remove the given EC policy $policyName.</td>
    </tr>
    <tr>
      <td>rename</td>
      <td>-file $src -dest $dest</td>
      <td>Rename $src to $dest.</td>
    </tr>
    <tr>
      <td>truncate</td>
      <td>-file $src -length $length</td>
      <td>Truncate $src to $length size.</td>
    </tr>
    <tr>
      <td>truncate0</td>
      <td>-file $src</td>
      <td>Truncate $src to 0 size.</td>
    </tr>
    <tr>
      <td>uncache</td>
      <td>-file $file</td>
      <td>Uncache $file from HDFS cache.</td>
    </tr>
    <tr>
      <td>uncompact</td>
      <td>-containerFile $containerFile</td>
      <td>Uncompact $containerFile to original files.</td>
    </tr>
    <tr>
      <td>unec</td>
      <td>-file $file [-bufSize $bufSize]</td>
      <td>Make the EC policy of $file become replication.
        If option -bufSize is not given, SSM will use the default value in byte equivalent to 1MB.
        SSM supports human-readable value for bufSize, e.g., 1KB, 1MB.
      </td>
    </tr>
    <tr>
      <td>write</td>
      <td>-file $file -length $length [-bufSize $size]</td>
      <td>Write random data to $file with $size buffer size and $length length.</td>
    </tr>
    <tr>
      <td>sleep</td>
      <td>-m $millisecond</td>
      <td>Sleep $millisecond.</td>
    </tr>
    <tr>
      <td>sync</td>
      <td>-dest $dest</td>
      <td>Sync file to $dest.</td>
    </tr>
    <tr>
      <td>user defined actions</td>
      <td></td>
      <td>Interface defined for user to implement their own actions.</td>
    </tr>
    </tbody>
  </table>
</div>
